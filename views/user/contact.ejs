<!DOCTYPE html>
<html lang="en">
<head>
	<!-- Meta Data -->
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>FURNIX</title>
	<!-- Favicon -->
	<link rel="icon" type="image/png" sizes="32x32" href="media/favicon-16x16.png">
	<!-- Dependency Styles -->
	<link rel="stylesheet" href="libs/bootstrap/css/bootstrap.min.css" type="text/css">
	<link rel="stylesheet" href="libs/feather-font/css/iconfont.css" type="text/css">
	<link rel="stylesheet" href="libs/icomoon-font/css/icomoon.css" type="text/css">
	<link rel="stylesheet" href="libs/font-awesome/css/font-awesome.css" type="text/css">
	<link rel="stylesheet" href="libs/wpbingofont/css/wpbingofont.css" type="text/css">
	<link rel="stylesheet" href="libs/elegant-icons/css/elegant.css" type="text/css">
	<link rel="stylesheet" href="libs/slick/css/slick.css" type="text/css">
	<link rel="stylesheet" href="libs/slick/css/slick-theme.css" type="text/css">
	<link rel="stylesheet" href="libs/mmenu/css/mmenu.min.css" type="text/css">
	<link rel="stylesheet" href="libs/slider/css/jslider.css">
	<!-- Site Stylesheet -->
	<link rel="stylesheet" href="assets/css/app.css" type="text/css">
	<link rel="stylesheet" href="assets/css/responsive.css" type="text/css">
	<!-- Google Web Fonts -->
	<link href="https://fonts.googleapis.com/css2?family=Barlow+Semi+Condensed:wght@100;200;300;400;500;600;700&amp;display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=EB+Garamond:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic&amp;display=swap" rel="stylesheet">
</head>
<style>
	.swal-custom {
		background: linear-gradient(94deg, rgba(255, 255, 255, 0) 0%, rgba(0, 0, 0, 0.8240546218487395) 26%, rgba(0, 0, 0, 1) 53%, rgba(0, 0, 0, 0.8492647058823529) 79%, rgba(227, 227, 227, 0) 100%);
		color: #ffffff;
		width: 100%;
	}
	.swal-custom-ok-btn {
		color: black !important;
	}
	.my-toast-container {
		width: 500px !important;
	}
	.my-toast-popup {
		background-color: black !important;
		color: white;
	}
</style>
<body class="page">
	<div id="page" class="hfeed page-wrapper">
		<header id="site-header" class="site-header header-v2">
			<div class="header-mobile">
				<div class="section-padding">
					<div class="section-container large">
						<div class="row">
							<div class="col-xl-4 col-lg-4 col-md-4 col-sm-3 col-3 header-left">
								<div class="navbar-header">
									<button type="button" id="show-megamenu" class="navbar-toggle"></button>
								</div>
							</div>
							<div class="col-xl-4 col-lg-4 col-md-4 col-sm-6 col-6 header-center">
								<div class="site-logo">
									<a href="/">
										<img width="400" height="79" src="media/logo.png" />
									</a>
								</div>
							</div>
							<!-- Search -->
							<div class="search-box" style="position: absolute; top: 25px; right: 30px;">
								<div class="search-toggle"><i class="wpb-icon-magnifying-glass" style="font-size: 20px; color: black;"></i></div>
							</div>
						</div>
					</div>
				</div>
				<div class="header-mobile-fixed">
					<!-- Shop -->
					<div class="shop-page">
						<a href="/"><i class="wpb-icon-shop"></i></a>
					</div>
					<!-- Wishlist -->
					<div class="wishlist-box">
						<a href="/wishlist"><i class="icon-heart"></i></a>
					</div>
					<!-- Cart -->
					<div class="wishlist-box">
						<a class="cart-icon" href="/cart"><i class="icon-large-paper-bag"></i></a>
					</div>
					<!-- Login -->
					<div class="my-account">
						<div class="login-header">
							<a href="/userProfilepage"><i class="wpb-icon-user"></i></a>
						</div>
					</div>
				</div>
			</div>
			<div class="header-desktop"
				style="background: linear-gradient(94deg, rgba(226,226,226,1) 0%, rgba(255,255,255,1) 53%, rgba(227,227,227,1) 100%);">
				<div class="header-wrapper">
					<div class="section-padding">
						<div class="section-container large p-l-r">
							<div class="row">
								<div class="col-xl-5 col-lg-5 col-md-12 col-sm-12 col-12 header-left">
									<div class="site-navigation">
										<nav id="main-navigation">
											<ul id="menu-main-menu" class="menu">
												<li class="level-0 menu-item">
													<a href="/"><span class="menu-item-text">home</span></a>
												</li>
												<li class="level-0 menu-item">
													<a href="/allproduct"><span class="menu-item-text">All</span></a>
												</li>
												<li class="level-0 menu-item">
													<a href="/contact"><span class="menu-item-text">Contact</span></a>
												</li>
											</ul>
										</nav>
									</div>
								</div>
								<div class="col-xl-2 col-lg-2 col-md-12 col-sm-12 col-12 text-center header-center">
									<div class="site-logo">
										<a href="index2.html">
											<img width="400" height="79" src="media/logo.png" />
										</a>
									</div>
								</div>
								<div class="col-xl-5 col-lg-5 col-md-12 col-sm-12 col-12 header-right">
									<div class="header-page-link">
										<!-- Search -->
										<div class="search-box" style="margin-right: -8px;">
											<div class="search-toggle"><i class="icon-search"></i></div>
										</div>
										<!-- Wishlist -->
										<div class="wishlist-box">
											<a href="/wishlist"><i class="icon-heart"></i></a>
											<% if (wishCount != undefined) { %>
												<span class="count-wishlist"><%= wishCount %></span>
											<% } else { %>
												<span class="count-wishlist">0</span>
											<% } %>
										</div>
										<!-- Cart -->
										<div class="mini-cart top-cart wishlist-box">
											<a class="cart-icon" href="/cart">
											<% if (CartCount != undefined) { %>
												<div class="icons-cart"><i class="icon-large-paper-bag"></i><span class="cart-count"><%= CartCount %></span></div>
											<% } else { %>
												<div class="icons-cart"><i class="icon-large-paper-bag"></i><span class="cart-count">0</span></div>
											<% } %>
											</a>
										</div>
										<!-- profile -->
										<div class="wishlist-box" style="margin-left: -0px;">
											<a href="/userprofilepage"><i class="wpb-icon-user"></i></a>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</header>
		<div id="site-main" class="site-main">
			<div id="main-content" class="main-content">
				<div id="primary" class="content-area">

					<div id="content" class="site-content" role="main">
						<div class="page-contact">
							<!-- <section class="section section-padding">
								<div class="section-container small">
										Block Contact Map
									<div class="block block-contact-map">
										<div class="block-widget-wrap">
											<iframe src="https://maps.google.com/maps?q=London%20Eye%2C%20London%2C%20United%20Kingdom&amp;t=m&amp;z=10&amp;output=embed&amp;iwloc=near" aria-label="London Eye, London, United Kingdom"></iframe>
										</div>
									</div>
								</div>
							</section>	 -->
							<section class="section section-padding m-b-70" style="margin-top: 100px;">
								<div class="section-container">
									<!-- Block Contact Info -->
									<div class="block block-contact-info">
										<div class="block-widget-wrap">
											<div class="info-icon">
												<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="svg-icon2 plant" x="0" y="0" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512" xml:space="preserve"><g><path xmlns="http://www.w3.org/2000/svg" d="m320.174 28.058a8.291 8.291 0 0 0 -7.563-4.906h-113.222a8.293 8.293 0 0 0 -7.564 4.907l-66.425 148.875a8.283 8.283 0 0 0 7.564 11.655h77.336v67.765a20.094 20.094 0 1 0 12 0v-67.765h27.7v288.259h-48.441a6 6 0 0 0 0 12h108.882a6 6 0 0 0 0-12h-48.441v-288.259h117.04a8.284 8.284 0 0 0 7.564-11.657zm-103.874 255.567a8.094 8.094 0 1 1 8.094-8.093 8.1 8.1 0 0 1 -8.094 8.093zm-77.61-107.036 63.11-141.437h108.4l63.11 141.437z" fill="" data-original=""></path></g></svg>
											</div>
											<div class="info-title">
												<h2>Need Help?</h2>
											</div>
											<div class="info-items">
												<div class="row">
													<div class="col-md-4 sm-m-b-30">
														<div class="info-item">
															<div class="item-tilte">
																<h2>Phone</h2>
															</div>
															<div class="item-content">
																+91 95627 18577
															</div>
														</div>
													</div>
													<div class="col-md-4 sm-m-b-30">
														<div class="info-item">
															<div class="item-tilte">
																<h2>Customer Service</h2>
															</div>
															<div class="item-content">
																<p>Monday to Friday</p>
																<p>8:00am - 8:00pm indian UTC+5:30 </p>
																<p>Sunday closed</p>
															</div>
														</div>
													</div>
													<div class="col-md-4">
														<div class="info-item">
															<div class="item-tilte">
																<h2>Returns</h2>
															</div>
															<div class="item-content small-width">
																For information on Returns and Refunds.</a>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</section>
							<section class="section section-padding contact-background m-b-0">
								<div class="section-container small">
									<!-- Block Contact Form -->
									<div class="block block-contact-form">
										<div class="block-widget-wrap">
											<div class="block-title">
												<h2>Send Us Your Questions!</h2>
												<div class="sub-title">Well get back to you within two days.</div>
											</div>
											<div class="block-content">
												<div class="contact-us-form">
													<div class="row">
														<div class="col-sm-12 col-md-6">
															<label class="required">Name</label><br>
															<span class="form-control-wrap">
																<input type="text" id="name" value="" size="40" class="form-control" aria-required="true" onclick="clearp()">
															</span>
														</div>
														<div class="col-sm-12 col-md-6">
															<label class="required">Email</label><br>
															<span class="form-control-wrap">
																<input type="email" id="email" value="" size="40" class="form-control" aria-required="true" onclick="clearp()">
															</span>
														</div>
													</div>
													<div class="row">
														<div class="col-sm-12">
															<label class="required">Message</label><br>
															<span class="form-control-wrap">
																<textarea name="message" cols="40" rows="10" class="form-control" aria-required="true" id="message" onclick="clearp()"></textarea>
															</span>
														</div>
													</div>
													<b><p style="text-align: center; font-size: 20px; color: red; margin-top: 20px;" id="errorp"></p></b>
													<div class="form-button">
														<input type="button" value="Submit" class="button" onclick="contactSubmit()"></span>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</section>
						</div>
					</div><!-- #content -->
				</div><!-- #primary -->
			</div><!-- #main-content -->
		</div>
		<footer id="site-footer" class="site-footer background">
			<div class="footer">
				<div class="section-padding">
					<div class="section-container large">
						<div class="block-widget-wrap">
							<div class="row">
								<div class="col-lg-3 col-md-6">
									<div class="block block-menu">
										<h2 class="block-title">About</h2>
										<div class="block-content">
											<ul>
												<li>
													<a>Low Shipping charge</a>
												</li>
												<li>
													<a>Flexible Payment</a>
												</li>
												<li>
													<a>Return policy</a>
												</li>
												<li>
													<a>Online support</a>
												</li>
											</ul>
										</div>
									</div>
								</div>
								<div class="col-lg-3 col-md-6">
									<div class="block block-menu">
										<h2 class="block-title">Help</h2>
										<div class="block-content">
											<ul>
												<li>
													<a>Contact & FAQ</a>
												</li>
												<li>
													<a>Track Your Order</a>
												</li>
												<li>
													<a>Returns & Refunds</a>
												</li>
												<li>
													<a>Shipping & Delivery</a>
												</li>
											</ul>
										</div>
									</div>
								</div>
								<div class="col-lg-3 col-md-6">
									<div class="block block-menu">
										<h2 class="block-title">Services</h2>
										<div class="block-content">
											<ul>
												<li>
													<a>Sale</a>
												</li>
												<li>
													<a>Quick Ship</a>
												</li>
												<li>
													<a>New Designs</a>
												</li>
												<li>
													<a>Accidental Fabric Protection</a>
												</li>
												<li>
													<a>Furniture Care</a>
												</li>
												<li>
													<a>Gift Cards</a>
												</li>
											</ul>
										</div>
									</div>
								</div>
								<div class="col-lg-3 col-md-6">
									<div class="block block-newsletter m-b-30">
										<h2 class="block-title">Social media</h2>
										<div class="block-content">
											<div class="newsletter-text">Follow us on social media to stay updated with the latest information.</div>
										</div>
									</div>
									<div class="block block-social">
										<ul class="social-link">
											<li><a href="https://www.instagram.com/e_zed_/"><i class="fa fa-instagram"></i></a></li>
											<li><a href="https://www.linkedin.com/in/sameen-ka/"><i class="fa fa-linkedin"></i></a></li>
											<li><a href="https://github.com/Sameen-K-A"><i class="fa fa-github"></i></a></li>
										</ul>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="footer-bottom">
				<div class="section-padding">
					<div class="section-container large">
						<div class="block-widget-wrap">
							<div class="row">
								<div class="col-md-12" style="text-align: center;">
									<div class="footer-left">
										<p class="copyright">Copyright © 2024. All Right Reserved</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</footer>
	</div>

	<!-- Back Top button -->
	<div class="back-top button-show">
		<i class="arrow_carrot-up"></i>
	</div>

	<!-- Search -->
    <div class="search-overlay">
		<div class="wrapper-search">
            <div class="search-from">
				<div class="search-box">
                    <div class="d-flex">
                        <button id="searchsubmit" class="btn" onclick="search()">
                            <i class="icon-search"></i>
                        </button>
                        <input id="myInput" type="text" autocomplete="off" value="" name="s" class="input-search s"
                            placeholder="Search...">
                        <div class="close-search" onclick="cancelsearch()">Cancel</div>
                    </div>
                    <h4 id="noproduct" style="display: none;">No products founded</h4>
                    <div id="prodatas">
                        
                    </div>
				</div>
            </div>
		</div>
	</div>

	<!-- Page Loader -->
	<div class="page-preloader">
		<div class="loader">
			<div></div>
			<div></div>
		</div>
	</div>
	<script src="libs/popper/js/popper.min.js"></script>
	<script src="libs/jquery/js/jquery.min.js"></script>
	<script src="libs/bootstrap/js/bootstrap.min.js"></script>
	<script src="libs/slick/js/slick.min.js"></script>
	<script src="libs/countdown/js/jquery.countdown.min.js"></script>
	<script src="libs/mmenu/js/jquery.mmenu.all.min.js"></script>
	<script src="libs/slider/js/tmpl.js"></script>
	<script src="libs/slider/js/jquery.dependClass-0.1.js"></script>
	<script src="libs/slider/js/draggable-0.1.js"></script>
	<script src="libs/slider/js/jquery.slider.js"></script>
	<script src="assets/js/app.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
		integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</body>
<script>
	function contactSubmit(){
		const name = document.getElementById("name").value;
		const email = document.getElementById("email").value;
		const message = document.getElementById("message").value;
		const nameRegex = /^[A-Za-z]+$/;
		const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
		const messageRegex = /^[A-Za-z0-9.,?\s]+$/;

		if(name.trim() === "" || email.trim() === "" || message.trim() === ""){
			document.getElementById("errorp").textContent = "Please fill all fields";
		} else if (!nameRegex.test(name)) {
			document.getElementById("errorp").textContent = "Name must only contain alphabets";
		} else if (name.length < 3) {
			document.getElementById("errorp").textContent = "Name must be at least 3 characters long";
		} else if (!emailRegex.test(email)) {
			document.getElementById("errorp").textContent = "Invalid email. Plese enter valid email";
		} else if (message.length < 10) {
			document.getElementById("errorp").textContent = "Message must be at least 10 characters long";
		} else if (!messageRegex.test(message)) {
			document.getElementById("errorp").textContent = "Message can only contain alphabets, digits, dots, commas, and question marks";
		} else {
			$.ajax({
				url: "/contact",
				method: "post",
				data: {
					name,
					email,
					message
				},
				success: (response) => { 
					if (response.status === "okay") {
						document.getElementById("name").value = "";
						document.getElementById("email").value = "";
						document.getElementById("message").value = "";
						const Toast = Swal.mixin({
							toast: true,
							position: "top",
							showConfirmButton: false,
							timer: 3000,
							timerProgressBar: false,
							didOpen: (toast) => {
								toast.onmouseenter = Swal.stopTimer;
								toast.onmouseleave = Swal.resumeTimer;
							},
							customClass: {
								container: 'my-toast-container',
								popup: 'my-toast-popup',
								header: 'my-toast-header',
								title: 'my-toast-title',
								icon: 'my-toast-icon',
								image: 'my-toast-image',
								content: 'my-toast-content'
							}
						});

						Toast.fire({
							icon: "success",
							title: "Thank you for contacting us. A reply will be sent to you soon."
						});
					} else if(response.status === "noUser"){
						Swal.fire({
							title: "Please login",
							showCancelButton: true,
							confirmButtonColor: "#39e75f",
							cancelButtonColor: "#ffffff",
							confirmButtonText: "Go to login page",
							customClass: {
								popup: 'swal-custom',
								cancelButton: 'swal-custom-ok-btn'
							}
						}).then((result) => {
							if (result.isConfirmed) {
								window.location.href = "/userLogin"
							}
						});
					}
				}
			})
		}
	}

	function clearp(){
		document.getElementById("errorp").textContent = ""
	}

	const searchValue = document.getElementById("myInput")
    let clearTimer;
    searchValue.addEventListener("keyup", () => {
        document.getElementById("prodatas").innerHTML= "";
        document.getElementById("noproduct").style.display = "none"
        clearTimeout(clearTimer);
        clearTimer = setTimeout(() => {
            search();
        }, 1000)
    });
    function search(){
        const searchValue = document.getElementById("myInput").value
        $.ajax({
			url: "/search",
			method: "post",
			data: {
				searchValue
			},
			success: (response) => {
				if (response.status === "okay") {
					document.getElementById("prodatas").innerHTML= ""
                    displaySearch(response.products)
				} else {
					document.getElementById("noproduct").style.display = "block"
				}
			}
		})
    }

    function displaySearch(data) {
		const prodatasDiv = document.getElementById("prodatas");
		prodatasDiv.innerHTML = ""; // Clear previous search results
		
		data.forEach(product => {
			const productDiv = document.createElement("div");
			productDiv.classList.add("d-flex", "align-items-center");

			const imageDiv = document.createElement("div");
			imageDiv.style.width = "80px";
			imageDiv.style.height = "80px";
			imageDiv.style.backgroundColor = "rgb(255, 255, 255)";
			imageDiv.style.marginRight = "30px";
			imageDiv.innerHTML = `<img src="/uploads/${product.images[0]}" alt="product image">`;
			imageDiv.onclick = function() {
				window.location.href = `/productDetailspage?id=${product._id}`;
			};

			const infoDiv = document.createElement("div");
			infoDiv.style.display = "flex";
			infoDiv.style.flexDirection = "column";
			infoDiv.style.justifyContent = "center";
			infoDiv.innerHTML = `
				<h5 style="margin: 0;">${product.name}</h5>
				<p style="margin: 0;">₹${product.regularPrice}.00</p>
			`;

			productDiv.appendChild(imageDiv);
			productDiv.appendChild(infoDiv);
			prodatasDiv.appendChild(productDiv);

			const hr = document.createElement("hr");
			prodatasDiv.appendChild(hr);
		});
	}


	function cancelsearch(){
		document.getElementById("noproduct").style.display = "none"
		const prodatasDiv = document.getElementById("prodatas").innerHTML = "";
		const searchValue = document.getElementById("myInput").value =""
	}
</script>
</html>